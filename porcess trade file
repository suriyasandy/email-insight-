import csv
import os

def process_trade_file(self, file_path):
    trade_ids = []

    try:
        # Case 1: CSV file
        if file_path.lower().endswith(".csv"):
            with open(file_path, mode="r", newline="", encoding="utf-8") as csvfile:
                reader = csv.reader(csvfile)
                for row in reader:
                    # assuming TradeID is in first column
                    if row:  
                        trade_ids.append(row[0].strip())

        # Case 2: TXT file
        elif file_path.lower().endswith(".txt"):
            with open(file_path, mode="r", encoding="utf-8") as txtfile:
                for line in txtfile:
                    trade_id = line.strip()
                    if trade_id:
                        trade_ids.append(trade_id)

        else:
            print(f"Unsupported file type: {file_path}")

    except Exception as e:
        print(f"Error processing trade file: {e}")

    # return list separated by commas
    return ",".join(trade_ids)
